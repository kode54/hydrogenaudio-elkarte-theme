From 9e4780af56f9c4fe0bfcfd19a79b250c1e51edb0 Mon Sep 17 00:00:00 2001
From: Chris Moeller <kode54@gmail.com>
Date: Tue, 29 Dec 2015 01:33:37 -0500
Subject: [PATCH] Move logo to left, and move the login and optional search box
 into the same row

---
 css/index.css      |  6 ++++--
 index.template.php | 30 +++++++++++++++++-------------
 2 files changed, 21 insertions(+), 15 deletions(-)

diff --git a/css/index.css b/css/index.css
index 9fd453d..8ec0cd0 100644
--- a/css/index.css
+++ b/css/index.css
@@ -823,11 +823,13 @@ a.bbc_link {
 .rightheader #forumtitle .forumlink {
 	float: right;
 }
+span.centerheader {
+	float: left;
+}
 /* Float these items to the right. @todo - Simplify. */
 #logobox, .rightheader #logobox {
 	float: right;
 	padding: 0 12px 0 12px;
-	max-width: 40%;
 }
 .centerheader #logobox {
 	width: 100%;
@@ -839,7 +841,7 @@ a.bbc_link {
 .centerheader #logobox, .centerheader #logo, .centerheader #siteslogan {
 	float: none;
 	display: block;
-	margin: 0 auto;
+	margin: 0 auto 0 0;
 	text-align: center;
 }
 #siteslogan {
diff --git a/index.template.php b/index.template.php
index 8a9e9be..7664bc7 100644
--- a/index.template.php
+++ b/index.template.php
@@ -226,25 +226,29 @@ function template_body_above()
 	// Skip nav link.
 	echo '
 	<div id="top_section">
-		<div class="wrapper">';
-
-	call_template_callbacks('th', $context['theme_header_callbacks']);
+		<div id="header" class="wrapper">
+			<span class="', !empty($settings['header_layout']) ? ($settings['header_layout'] == 1 ? ' centerheader' : ' rightheader') : '', '"', empty($context['minmax_preferences']['upshrink']) ? '' : ' style="display: none;" aria-hidden="true"', '>
+				<h1 id="forumtitle">
+					<a class="forumlink" href="', $scripturl, '">', $context['forum_name'], '</a>';
 
 	echo '
-		</div>
-		<div id="header" class="wrapper', !empty($settings['header_layout']) ? ($settings['header_layout'] == 1 ? ' centerheader' : ' rightheader') : '', '"', empty($context['minmax_preferences']['upshrink']) ? '' : ' style="display: none;" aria-hidden="true"', '>
-			<h1 id="forumtitle">
-				<a class="forumlink" href="', $scripturl, '">', $context['forum_name'], '</a>';
+					<span id="logobox">
+						<a href="', $scripturl, '">
+							<img id="logo" src="', $context['header_logo_url_html_safe'], '" srcset="/logo.png 1x, /logo@2x.png 2x, /logo@3x.png 3x" alt="', $context['forum_name_html_safe'], '" title="', $context['forum_name_html_safe'], '" />', empty($settings['site_slogan']) ? '' : '
+							<span id="siteslogan">' . $settings['site_slogan'] . '</span>', '
+						</a>
+					</span>
+				</h1>';
 
+	// Show the menu here, according to the menu sub template.
 	echo '
-				<span id="logobox">
-					<img id="logo" src="', $context['header_logo_url_html_safe'], '" alt="', $context['forum_name_html_safe'], '" title="', $context['forum_name_html_safe'], '" />', empty($settings['site_slogan']) ? '' : '
-					<span id="siteslogan">' . $settings['site_slogan'] . '</span>', '
-				</span>
-			</h1>';
+			</span>
+			<span>';
+
+	call_template_callbacks('th', $context['theme_header_callbacks']);
 
-	// Show the menu here, according to the menu sub template.
 	echo '
+			</span>
 		</div>';
 
 	// WAI-ARIA a11y tweaks have been applied here.
-- 
1.8.3.1

